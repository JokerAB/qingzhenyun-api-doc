## 添加离线任务

* 与 v1相比，一次请求即开启离线任务，更加简洁。

### 1、预解析下载任务

* 路径: ```/v2/offline/parseUrl```
* 方法: ```POST```
* 登录: 需要

#### 需要提交的字段

| 字段          	| 类型    	| 默认值 	| 必填 	| 说明               	| 备注                         	|
|---------------	|---------	|--------	|------	|--------------------	|------------------------------	|
| url   	| string  	|      	| 默认 	| 路径，一行一个               	| 下载链接                  	|


#### 示范

* 发送 

```POST``` ```/v2/offline/parseUrl```

```json
{
  "url":"https://www.bilibili.com/video/av14112839/?spm_id_from=333.788.videocard.0\nhttps://api.6pan.cn/v2/offline/parseUrl"
}
```

* 接受

```json
{
    "status": 0,
    "result": [
        {
            "name": "dda0b4e445c73dfd32832d8c683e5fa6",
            "identity": "eyJzdWNjZXNzIjp0cnVlLCJ0eXBlIjo1MDIwLCJpZGVudGl0eSI6ImRkYTBiNGU0NDVjNzNkZmQzMjgzMmQ4YzY4M2U1ZmE2IiwidXJsIjoiaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2MTQxMTI4MzkvP3NwbV9pZF9mcm9tPTMzMy43ODgudmlkZW9jYXJkLjAiLCJuYW1lIjoiZGRhMGI0ZTQ0NWM3M2RmZDMyODMyZDhjNjgzZTVmYTYifQ==$7e9c34935b3749ac669e222aaa055454"
        },
        {
            "name": "parseUrl",
            "identity": "eyJzdWNjZXNzIjp0cnVlLCJ0eXBlIjo1MDIwLCJpZGVudGl0eSI6IjI3NTk0YTRmM2RiZDFiNjZhNzg3YzYzMTkwMjg3ZWI3IiwidXJsIjoiaHR0cHM6Ly9hcGkuNnBhbi5jbi92Mi9vZmZsaW5lL3BhcnNlVXJsIiwibmFtZSI6InBhcnNlVXJsIn0=$e71c503288938e9614dca1c55e0ab811"
        }
    ],
    "code": "OK",
    "success": true
}
```

### 2、发起下载任务

* 路径: ```/v2/offline/add```
* 方法: ```POST```
* 登录: 需要

#### 需要提交的字段

| 字段          	| 类型    	| 默认值 	| 必填 	| 说明               	| 备注                         	|
|---------------	|---------	|--------	|------	|--------------------	|------------------------------	|
| task   	| 对象数组  	|      	| 默认 	| =               	| 上次传回的对象                  	|


* task说明
[   数组外侧
    {
        identity : string, 上次接口返回
        files: string[], 选择需要下载的文件，如果传空则都下载
    }

]



#### 示范

* 发送 

```POST``` ```/v2/offline/add```

```json
{
  "path":"/ab/c/d",
  "task": [{"identity": "eyJzdWNjZXNzIjp0cnVlLCJ0eXBlIjo1MDIwLCJpZGVudGl0eSI6ImRkYTBiNGU0NDVjNzNkZmQzMjgzMmQ4YzY4M2U1ZmE2IiwidXJsIjoiaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2MTQxMTI4MzkvP3NwbV9pZF9mcm9tPTMzMy43ODgudmlkZW9jYXJkLjAiLCJuYW1lIjoiZGRhMGI0ZTQ0NWM3M2RmZDMyODMyZDhjNjgzZTVmYTYifQ==$7e9c34935b3749ac669e222aaa055454"},{"identity": "eyJzdWNjZXNzIjp0cnVlLCJ0eXBlIjo1MDIwLCJpZGVudGl0eSI6IjI3NTk0YTRmM2RiZDFiNjZhNzg3YzYzMTkwMjg3ZWI3IiwidXJsIjoiaHR0cHM6Ly9hcGkuNnBhbi5jbi92Mi9vZmZsaW5lL3BhcnNlVXJsIiwibmFtZSI6InBhcnNlVXJsIn0=$e71c503288938e9614dca1c55e0ab811"}]
}
```

* 接受
{

}